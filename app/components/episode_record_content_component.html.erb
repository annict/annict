<div class="c-episode-record-content c-record-content">
  <% if episode_record_entity.rating_state || episode_record_entity.body.present? %>
    <%= render SpoilerGuardComponent.new(work_id: work_entity.database_id, episode_id: episode_entity.database_id) do %>
      <div>
        <% if episode_record_entity.rating_state %>
          <%= render RatingLabelComponent.new(kind: episode_record_entity.rating_state.downcase, class_name: "mb-1") %>
        <% end %>

        <%= render BodyComponent.new(height: 300, markdown: false) do %>
          <%= episode_record_entity.body %>
        <% end %>
      </div>
    <% end %>
  <% end %>

  <%= render EpisodeRecordCardComponent.new(work_entity: work_entity, episode_entity: episode_entity, episode_record_entity: episode_record_entity) %>

  <%= render EpisodeRecordFooterComponent.new(user_entity: user_entity, record_entity: record_entity, episode_record_entity: episode_record_entity) %>
</div>
