// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.27.0
// source: settings.sql

package query

import (
	"context"
	"time"
)

const createSetting = `-- name: CreateSetting :one
INSERT INTO settings (
    user_id,
    privacy_policy_agreed,
    hide_record_body,
    slots_sort_type,
    display_option_work_list,
    display_option_user_work_list,
    records_sort_type,
    display_option_record_list,
    share_record_to_twitter,
    share_record_to_facebook,
    share_review_to_twitter,
    share_review_to_facebook,
    hide_supporter_badge,
    share_status_to_twitter,
    share_status_to_facebook,
    timeline_mode,
    created_at,
    updated_at
)
VALUES (
    $1,                      -- user_id
    true,                    -- privacy_policy_agreed (新規登録時はtrue)
    true,                    -- hide_record_body (デフォルト)
    '',                      -- slots_sort_type (デフォルト)
    'list_detailed',         -- display_option_work_list (デフォルト)
    'grid_detailed',         -- display_option_user_work_list (デフォルト)
    'created_at_desc',       -- records_sort_type (デフォルト)
    'all_comments',          -- display_option_record_list (デフォルト)
    false,                   -- share_record_to_twitter
    false,                   -- share_record_to_facebook
    false,                   -- share_review_to_twitter
    false,                   -- share_review_to_facebook
    false,                   -- hide_supporter_badge
    false,                   -- share_status_to_twitter
    false,                   -- share_status_to_facebook
    'following',             -- timeline_mode (デフォルト)
    NOW(),                   -- created_at
    NOW()                    -- updated_at
)
RETURNING id, user_id, privacy_policy_agreed, created_at, updated_at
`

type CreateSettingRow struct {
	ID                  int64     `db:"id"`
	UserID              int64     `db:"user_id"`
	PrivacyPolicyAgreed bool      `db:"privacy_policy_agreed"`
	CreatedAt           time.Time `db:"created_at"`
	UpdatedAt           time.Time `db:"updated_at"`
}

func (q *Queries) CreateSetting(ctx context.Context, userID int64) (CreateSettingRow, error) {
	row := q.db.QueryRowContext(ctx, createSetting, userID)
	var i CreateSettingRow
	err := row.Scan(
		&i.ID,
		&i.UserID,
		&i.PrivacyPolicyAgreed,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const getSettingByUserID = `-- name: GetSettingByUserID :one
SELECT id, user_id, privacy_policy_agreed, hide_record_body, created_at, updated_at
FROM settings
WHERE user_id = $1
LIMIT 1
`

type GetSettingByUserIDRow struct {
	ID                  int64     `db:"id"`
	UserID              int64     `db:"user_id"`
	PrivacyPolicyAgreed bool      `db:"privacy_policy_agreed"`
	HideRecordBody      bool      `db:"hide_record_body"`
	CreatedAt           time.Time `db:"created_at"`
	UpdatedAt           time.Time `db:"updated_at"`
}

func (q *Queries) GetSettingByUserID(ctx context.Context, userID int64) (GetSettingByUserIDRow, error) {
	row := q.db.QueryRowContext(ctx, getSettingByUserID, userID)
	var i GetSettingByUserIDRow
	err := row.Scan(
		&i.ID,
		&i.UserID,
		&i.PrivacyPolicyAgreed,
		&i.HideRecordBody,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}
