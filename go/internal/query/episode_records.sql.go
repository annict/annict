// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.27.0
// source: episode_records.sql

package query

import (
	"context"
	"database/sql"
)

const countEpisodeRecordsByUserID = `-- name: CountEpisodeRecordsByUserID :one
SELECT COUNT(*)
FROM episode_records
WHERE user_id = $1 AND deleted_at IS NULL
`

func (q *Queries) CountEpisodeRecordsByUserID(ctx context.Context, userID int64) (int64, error) {
	row := q.db.QueryRowContext(ctx, countEpisodeRecordsByUserID, userID)
	var count int64
	err := row.Scan(&count)
	return count, err
}

const getEpisodeRecordByID = `-- name: GetEpisodeRecordByID :one
SELECT id, user_id, episode_id, work_id, record_id, body, rating, rating_state, created_at, updated_at
FROM episode_records
WHERE id = $1 AND deleted_at IS NULL
LIMIT 1
`

type GetEpisodeRecordByIDRow struct {
	ID          int64           `db:"id"`
	UserID      int64           `db:"user_id"`
	EpisodeID   int64           `db:"episode_id"`
	WorkID      int64           `db:"work_id"`
	RecordID    int64           `db:"record_id"`
	Body        sql.NullString  `db:"body"`
	Rating      sql.NullFloat64 `db:"rating"`
	RatingState sql.NullString  `db:"rating_state"`
	CreatedAt   sql.NullTime    `db:"created_at"`
	UpdatedAt   sql.NullTime    `db:"updated_at"`
}

func (q *Queries) GetEpisodeRecordByID(ctx context.Context, id int64) (GetEpisodeRecordByIDRow, error) {
	row := q.db.QueryRowContext(ctx, getEpisodeRecordByID, id)
	var i GetEpisodeRecordByIDRow
	err := row.Scan(
		&i.ID,
		&i.UserID,
		&i.EpisodeID,
		&i.WorkID,
		&i.RecordID,
		&i.Body,
		&i.Rating,
		&i.RatingState,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}
